Napište počítadlo pro Arduino UNO s připojeným Funshieldem, jehož hodnota se bude zobrazovat na 7-segmentovém displeji tak, že vždy bude vidět jen 1 cifra (tj. neřešte problém multiplexingu).
Počítadlo je celočíselná hodnota 0-9999, která je zobrazována na čtyřciferném 7-segmentovém LED displeji na Funshieldu (standardně dekadicky, jednotky jsou nejvíce vpravo). Na displeji svítí v jednom okamžiku právě jedna cifra (na počátku je to cifra jednotek). Pomocí třetího tlačítka je možné měnit, která cifra (řád) je právě zobrazena a tak si uživatel může přečíst postupně celé zobrazovaná číslo (hodnotu počítadla). Čísla, která mají méně než 4 cifry, zobrazujeme s úvodními nulami (např. číslo 42 chápeme jako 0042).
První dvě tlačítka slouží jako inkrement resp. dekrement počítadla (přesněji vybraného řádu - viz dále) v modulární aritmetice (mod 10000). Na počátku (po startu zařízení) má počítadlo hodnotu 0.
Tlačítka fungují následovně:
• Třetí tlačítko při stisku změní výběr řádu, který je právě zobrazován na displeji. Na počátku je zobrazován řád jednotek, stiskem tlačítka je možné to změnit postupně na desítky, stovky, tisíce a následně zpět na jednotky.
• První tlačítko provede při stisku inkrement, ale v řádu, který odpovídá cifře právě zobrazované na displeji. Pokud jsou tedy zobrazovány jednotky, přičte se k počítadlu +1, pokud desítky +10 atd.
• Druhé tlačítko funguje analogicky jako první ale provádí dekrement, tedy dle vybraného řádu provede -1, -10, -100 nebo -1000
Write a counter application for Arduino UNO with attached Funshield. The value of the counter will be projected on 7-segment LED display so that exactly one digit is visible at any given time (i.e., we are not going to use multiplexing to show multiple digits).
The counter holds value in 0-9999 range which should be displayed on the four-digit 7-segment LED display in standard decadic format (units are the rightmost digits). Exactly one digit (one order) is lit at any given time, the order of units is selected at the beginning. The third button alternates, which digit is shown (i.e., which order is selected) so the user can read the whole number digit per digit. Values which do not have 4 digits (lesser than 1000) are displayed with leading zeroes (e.g., value 42 is displayed as 0042).
The first two buttons work as increment and decrement respectively modifying the counter according to the selected order (as explained in the following text). The counter is modified in modular arithmetic (mod 10,000). When the device is started, the counter is set to 0.
The operations of individual buttons are:
• Button #3 selects the displayed digit (order). At the beginning, the order of units is selected (the rightmost digit). Clicking the button changes the the order to tens, hundreds, thousands, and then back to units.
• Button #1 increments the currently selected digit when pressed (when the button goes down). In other words, if the order of units is selected, +1 is added to the counter. If order of tens is selected, +10 is added and so on.
• Button #2 works in the same way as button #1, but it decrements the value (i.e., adds -1, -10, -100, or -1000 to the counter depending on currently selected order).

